{"version":3,"sources":["../../src/memory/memory-storage-adapter.ts","../../src/interfaces/network.ts","../../src/memory/mock-network-adapter.ts","../../src/memory/mock-audio-adapter.ts","../../src/memory/mock-platform-adapter.ts"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["/**\n * In-memory storage adapter\n * Implements full IStorageAdapter for testing and SSR\n */\n\nimport type {\n  IStorageAdapter,\n  StorageAdapterConfig,\n  StorageChangeEvent,\n} from '../interfaces/storage'\n\ninterface CollectionStore {\n  [id: string]: unknown\n}\n\n/**\n * In-memory implementation of IStorageAdapter\n * Useful for testing and server-side rendering\n */\nexport class MemoryStorageAdapter implements IStorageAdapter {\n  private storage: Map<string, unknown> = new Map()\n  private collections: Map<string, CollectionStore> = new Map()\n  private listeners: Set<(event: StorageChangeEvent) => void> = new Set()\n  private prefix: string\n\n  constructor(config: StorageAdapterConfig = {}) {\n    this.prefix = config.prefix ?? ''\n  }\n\n  private getKey(key: string): string {\n    return this.prefix ? `${this.prefix}.${key}` : key\n  }\n\n  private getCollectionKey(collection: string): string {\n    return this.prefix ? `${this.prefix}.${collection}` : collection\n  }\n\n  private notifyChange<T>(key: string, oldValue: T | null, newValue: T | null): void {\n    const event: StorageChangeEvent<T> = { key, oldValue, newValue }\n    this.listeners.forEach((listener) => listener(event))\n  }\n\n  // Key-value operations\n\n  async get<T>(key: string): Promise<T | null> {\n    const value = this.storage.get(this.getKey(key))\n    return (value as T) ?? null\n  }\n\n  async set<T>(key: string, value: T): Promise<void> {\n    const fullKey = this.getKey(key)\n    const oldValue = (this.storage.get(fullKey) as T) ?? null\n    this.storage.set(fullKey, value)\n    this.notifyChange(key, oldValue, value)\n  }\n\n  async delete(key: string): Promise<void> {\n    const fullKey = this.getKey(key)\n    const oldValue = this.storage.get(fullKey) ?? null\n    this.storage.delete(fullKey)\n    this.notifyChange(key, oldValue, null)\n  }\n\n  async clear(): Promise<void> {\n    if (this.prefix) {\n      for (const key of this.storage.keys()) {\n        if (key.startsWith(this.prefix)) {\n          this.storage.delete(key)\n        }\n      }\n      for (const key of this.collections.keys()) {\n        if (key.startsWith(this.prefix)) {\n          this.collections.delete(key)\n        }\n      }\n    } else {\n      this.storage.clear()\n      this.collections.clear()\n    }\n  }\n\n  async keys(): Promise<string[]> {\n    const keys: string[] = []\n    for (const key of this.storage.keys()) {\n      if (this.prefix) {\n        if (key.startsWith(this.prefix)) {\n          keys.push(key.substring(this.prefix.length + 1))\n        }\n      } else {\n        keys.push(key)\n      }\n    }\n    return keys\n  }\n\n  // Structured storage operations\n\n  async getStructured<T>(collection: string, id: string): Promise<T | null> {\n    const collKey = this.getCollectionKey(collection)\n    const coll = this.collections.get(collKey)\n    if (!coll) return null\n    return (coll[id] as T) ?? null\n  }\n\n  async setStructured<T>(collection: string, id: string, value: T): Promise<void> {\n    const collKey = this.getCollectionKey(collection)\n    let coll = this.collections.get(collKey)\n    if (!coll) {\n      coll = {}\n      this.collections.set(collKey, coll)\n    }\n    coll[id] = value\n  }\n\n  async deleteStructured(collection: string, id?: string): Promise<void> {\n    const collKey = this.getCollectionKey(collection)\n    if (id !== undefined) {\n      const coll = this.collections.get(collKey)\n      if (coll) {\n        delete coll[id]\n      }\n    } else {\n      this.collections.delete(collKey)\n    }\n  }\n\n  async listStructured(collection: string): Promise<string[]> {\n    const collKey = this.getCollectionKey(collection)\n    const coll = this.collections.get(collKey)\n    if (!coll) return []\n    return Object.keys(coll)\n  }\n\n  // Batch operations\n\n  async getBatch<T>(keys: string[]): Promise<Record<string, T | null>> {\n    const result: Record<string, T | null> = {}\n    for (const key of keys) {\n      result[key] = await this.get<T>(key)\n    }\n    return result\n  }\n\n  async setBatch(data: Record<string, unknown>): Promise<void> {\n    for (const [key, value] of Object.entries(data)) {\n      await this.set(key, value)\n    }\n  }\n\n  // Events\n\n  onChanged<T>(callback: (event: StorageChangeEvent<T>) => void): () => void {\n    this.listeners.add(callback as (event: StorageChangeEvent) => void)\n    return () => {\n      this.listeners.delete(callback as (event: StorageChangeEvent) => void)\n    }\n  }\n\n  // Utility methods\n\n  /**\n   * Get approximate size of stored data in bytes\n   */\n  size(): number {\n    let total = 0\n    for (const [key, value] of this.storage) {\n      total += key.length + JSON.stringify(value).length\n    }\n    for (const [key, coll] of this.collections) {\n      total += key.length + JSON.stringify(coll).length\n    }\n    return total\n  }\n\n  /**\n   * Dump all data for debugging\n   */\n  dump(): { storage: Record<string, unknown>; collections: Record<string, CollectionStore> } {\n    return {\n      storage: Object.fromEntries(this.storage),\n      collections: Object.fromEntries(this.collections),\n    }\n  }\n}\n\n/**\n * Create an in-memory storage adapter\n * @param config - Adapter configuration\n */\nexport function createMemoryStorage(config?: StorageAdapterConfig): IStorageAdapter {\n  return new MemoryStorageAdapter(config)\n}\n","/**\n * Network adapter interface\n * Platform-agnostic network abstraction for HTTP requests,\n * file downloads, caching, and connection status\n */\n\n/**\n * HTTP request options\n */\nexport interface RequestOptions {\n  /** Request headers */\n  headers?: Record<string, string>\n  /** Request timeout in milliseconds */\n  timeout?: number\n  /** Abort signal for request cancellation */\n  signal?: AbortSignal\n  /** Enable/disable credentials (cookies) */\n  credentials?: 'include' | 'omit' | 'same-origin'\n  /** Response type */\n  responseType?: 'json' | 'text' | 'blob' | 'arraybuffer'\n}\n\n/**\n * HTTP response wrapper\n */\nexport interface HttpResponse<T> {\n  /** Response data */\n  data: T\n  /** HTTP status code */\n  status: number\n  /** Response headers */\n  headers: Record<string, string>\n  /** Whether the request was successful (2xx status) */\n  ok: boolean\n}\n\n/**\n * Download progress information\n */\nexport interface DownloadProgress {\n  /** Bytes loaded */\n  loaded: number\n  /** Total bytes (if known) */\n  total: number | null\n  /** Progress percentage (0-100) */\n  percent: number\n}\n\n/**\n * Cache entry metadata\n */\nexport interface CacheEntry<T> {\n  /** Cached data */\n  data: T\n  /** When the entry was cached (timestamp) */\n  cachedAt: number\n  /** Time-to-live in milliseconds */\n  ttl: number\n}\n\n/**\n * Network adapter interface\n */\nexport interface INetworkAdapter {\n  // HTTP requests\n  /**\n   * Perform a GET request\n   * @param url - Request URL\n   * @param options - Request options\n   */\n  get<T>(url: string, options?: RequestOptions): Promise<HttpResponse<T>>\n\n  /**\n   * Perform a POST request\n   * @param url - Request URL\n   * @param data - Request body\n   * @param options - Request options\n   */\n  post<T>(url: string, data: unknown, options?: RequestOptions): Promise<HttpResponse<T>>\n\n  /**\n   * Perform a PUT request\n   * @param url - Request URL\n   * @param data - Request body\n   * @param options - Request options\n   */\n  put<T>(url: string, data: unknown, options?: RequestOptions): Promise<HttpResponse<T>>\n\n  /**\n   * Perform a PATCH request\n   * @param url - Request URL\n   * @param data - Request body\n   * @param options - Request options\n   */\n  patch<T>(url: string, data: unknown, options?: RequestOptions): Promise<HttpResponse<T>>\n\n  /**\n   * Perform a DELETE request\n   * @param url - Request URL\n   * @param options - Request options\n   */\n  delete<T>(url: string, options?: RequestOptions): Promise<HttpResponse<T>>\n\n  // File downloads\n  /**\n   * Download a file as Blob\n   * @param url - File URL\n   * @param onProgress - Progress callback\n   */\n  downloadFile(url: string, onProgress?: (progress: DownloadProgress) => void): Promise<Blob>\n\n  /**\n   * Download and parse JSON\n   * @param url - JSON URL\n   * @param onProgress - Progress callback\n   */\n  downloadJson<T>(url: string, onProgress?: (progress: DownloadProgress) => void): Promise<T>\n\n  // Caching\n  /**\n   * Get cached data if still valid\n   * @param url - Cache key (usually the URL)\n   * @param maxAge - Maximum age in milliseconds\n   */\n  getCached<T>(url: string, maxAge?: number): Promise<T | null>\n\n  /**\n   * Store data in cache\n   * @param url - Cache key\n   * @param data - Data to cache\n   * @param ttl - Time-to-live in milliseconds\n   */\n  setCached<T>(url: string, data: T, ttl?: number): Promise<void>\n\n  /**\n   * Invalidate cached data\n   * @param url - Cache key to invalidate\n   */\n  invalidateCache(url: string): Promise<void>\n\n  /**\n   * Clear all cached data\n   */\n  clearCache(): Promise<void>\n\n  // Connection status\n  /**\n   * Check if currently online\n   */\n  isOnline(): Promise<boolean>\n\n  /**\n   * Subscribe to connection status changes\n   * @param callback - Called when connection status changes\n   * @returns Cleanup function\n   */\n  onConnectionChange(callback: (online: boolean) => void): () => void\n}\n\n/**\n * Network error codes\n */\nexport type NetworkErrorCode =\n  | 'TIMEOUT'\n  | 'OFFLINE'\n  | 'ABORTED'\n  | 'NOT_FOUND'\n  | 'SERVER_ERROR'\n  | 'NETWORK_ERROR'\n  | 'PARSE_ERROR'\n  | 'UNKNOWN'\n\n/**\n * Network error class\n */\nexport class NetworkError extends Error {\n  constructor(\n    message: string,\n    public readonly code: NetworkErrorCode,\n    public readonly status?: number,\n    public readonly response?: unknown\n  ) {\n    super(message)\n    this.name = 'NetworkError'\n  }\n}\n\n/**\n * Network adapter configuration\n */\nexport interface NetworkAdapterConfig {\n  /** Base URL for all requests */\n  baseUrl?: string\n  /** Default timeout in milliseconds */\n  timeout?: number\n  /** Default headers for all requests */\n  headers?: Record<string, string>\n  /** Enable request/response logging */\n  debug?: boolean\n  /** Retry configuration */\n  retry?: {\n    /** Maximum retry attempts */\n    maxAttempts: number\n    /** Delay between retries in milliseconds */\n    delay: number\n    /** Multiply delay by this factor for each retry */\n    backoffFactor?: number\n  }\n}\n","/**\n * Mock network adapter\n * For testing and offline scenarios\n */\n\nimport type {\n  INetworkAdapter,\n  RequestOptions,\n  HttpResponse,\n  DownloadProgress,\n} from '../interfaces/network'\nimport { NetworkError } from '../interfaces/network'\n\n/**\n * Mock response handler\n */\nexport type MockHandler<T = unknown> = (\n  url: string,\n  options?: RequestOptions & { body?: unknown }\n) => Promise<T> | T\n\n/**\n * Route definition\n */\ninterface MockRoute {\n  method: 'GET' | 'POST' | 'PUT' | 'PATCH' | 'DELETE' | '*'\n  pattern: string | RegExp\n  handler: MockHandler\n  delay?: number\n}\n\n/**\n * Mock network adapter for testing\n */\nexport class MockNetworkAdapter implements INetworkAdapter {\n  private routes: MockRoute[] = []\n  private cache: Map<string, { data: unknown; cachedAt: number; ttl: number }> = new Map()\n  private isOnlineState: boolean = true\n  private connectionListeners: Set<(online: boolean) => void> = new Set()\n  private defaultDelay: number = 0\n\n  constructor(options: { delay?: number } = {}) {\n    this.defaultDelay = options.delay ?? 0\n  }\n\n  /**\n   * Register a mock route\n   */\n  mock<T>(\n    method: MockRoute['method'],\n    pattern: string | RegExp,\n    handler: MockHandler<T>,\n    delay?: number\n  ): this {\n    this.routes.push({\n      method,\n      pattern,\n      handler: handler as MockHandler,\n      delay: delay ?? this.defaultDelay,\n    })\n    return this\n  }\n\n  /**\n   * Shorthand for GET routes\n   */\n  onGet<T>(pattern: string | RegExp, handler: MockHandler<T>, delay?: number): this {\n    return this.mock('GET', pattern, handler, delay)\n  }\n\n  /**\n   * Shorthand for POST routes\n   */\n  onPost<T>(pattern: string | RegExp, handler: MockHandler<T>, delay?: number): this {\n    return this.mock('POST', pattern, handler, delay)\n  }\n\n  /**\n   * Shorthand for any method\n   */\n  onAny<T>(pattern: string | RegExp, handler: MockHandler<T>, delay?: number): this {\n    return this.mock('*', pattern, handler, delay)\n  }\n\n  /**\n   * Clear all mock routes\n   */\n  clearMocks(): void {\n    this.routes = []\n  }\n\n  /**\n   * Set online state\n   */\n  setOnline(online: boolean): void {\n    if (this.isOnlineState !== online) {\n      this.isOnlineState = online\n      this.connectionListeners.forEach((cb) => cb(online))\n    }\n  }\n\n  private matchRoute(method: string, url: string): MockRoute | undefined {\n    return this.routes.find((route) => {\n      if (route.method !== '*' && route.method !== method) return false\n      if (typeof route.pattern === 'string') {\n        return url.includes(route.pattern)\n      }\n      return route.pattern.test(url)\n    })\n  }\n\n  private async executeRequest<T>(\n    method: string,\n    url: string,\n    body?: unknown,\n    options?: RequestOptions\n  ): Promise<HttpResponse<T>> {\n    if (!this.isOnlineState) {\n      throw new NetworkError('No internet connection', 'OFFLINE')\n    }\n\n    const route = this.matchRoute(method, url)\n    if (!route) {\n      throw new NetworkError(`No mock handler for ${method} ${url}`, 'NOT_FOUND', 404)\n    }\n\n    if (route.delay) {\n      await new Promise((resolve) => setTimeout(resolve, route.delay))\n    }\n\n    try {\n      const data = await route.handler(url, { ...options, body })\n      return {\n        data: data as T,\n        status: 200,\n        headers: {},\n        ok: true,\n      }\n    } catch (error) {\n      if (error instanceof NetworkError) throw error\n      throw new NetworkError(\n        error instanceof Error ? error.message : 'Mock handler error',\n        'UNKNOWN'\n      )\n    }\n  }\n\n  // HTTP methods\n\n  async get<T>(url: string, options?: RequestOptions): Promise<HttpResponse<T>> {\n    return this.executeRequest<T>('GET', url, undefined, options)\n  }\n\n  async post<T>(url: string, data: unknown, options?: RequestOptions): Promise<HttpResponse<T>> {\n    return this.executeRequest<T>('POST', url, data, options)\n  }\n\n  async put<T>(url: string, data: unknown, options?: RequestOptions): Promise<HttpResponse<T>> {\n    return this.executeRequest<T>('PUT', url, data, options)\n  }\n\n  async patch<T>(url: string, data: unknown, options?: RequestOptions): Promise<HttpResponse<T>> {\n    return this.executeRequest<T>('PATCH', url, data, options)\n  }\n\n  async delete<T>(url: string, options?: RequestOptions): Promise<HttpResponse<T>> {\n    return this.executeRequest<T>('DELETE', url, undefined, options)\n  }\n\n  // File downloads\n\n  async downloadFile(\n    url: string,\n    onProgress?: (progress: DownloadProgress) => void\n  ): Promise<Blob> {\n    const response = await this.get<ArrayBuffer>(url, { responseType: 'arraybuffer' as never })\n\n    // Simulate progress\n    if (onProgress) {\n      onProgress({ loaded: 0, total: 100, percent: 0 })\n      await new Promise((resolve) => setTimeout(resolve, 10))\n      onProgress({ loaded: 50, total: 100, percent: 50 })\n      await new Promise((resolve) => setTimeout(resolve, 10))\n      onProgress({ loaded: 100, total: 100, percent: 100 })\n    }\n\n    return new Blob([response.data])\n  }\n\n  async downloadJson<T>(\n    url: string,\n    onProgress?: (progress: DownloadProgress) => void\n  ): Promise<T> {\n    if (onProgress) {\n      onProgress({ loaded: 0, total: 100, percent: 0 })\n    }\n\n    const response = await this.get<T>(url)\n\n    if (onProgress) {\n      onProgress({ loaded: 100, total: 100, percent: 100 })\n    }\n\n    return response.data\n  }\n\n  // Caching\n\n  async getCached<T>(url: string, maxAge?: number): Promise<T | null> {\n    const cached = this.cache.get(url)\n    if (!cached) return null\n\n    const age = Date.now() - cached.cachedAt\n    const effectiveMaxAge = maxAge ?? cached.ttl\n\n    if (age > effectiveMaxAge) {\n      this.cache.delete(url)\n      return null\n    }\n\n    return cached.data as T\n  }\n\n  async setCached<T>(url: string, data: T, ttl: number = 3600000): Promise<void> {\n    this.cache.set(url, {\n      data,\n      cachedAt: Date.now(),\n      ttl,\n    })\n  }\n\n  async invalidateCache(url: string): Promise<void> {\n    this.cache.delete(url)\n  }\n\n  async clearCache(): Promise<void> {\n    this.cache.clear()\n  }\n\n  // Connection status\n\n  async isOnline(): Promise<boolean> {\n    return this.isOnlineState\n  }\n\n  onConnectionChange(callback: (online: boolean) => void): () => void {\n    this.connectionListeners.add(callback)\n    return () => {\n      this.connectionListeners.delete(callback)\n    }\n  }\n}\n\n/**\n * Create a mock network adapter\n */\nexport function createMockNetwork(options?: { delay?: number }): MockNetworkAdapter {\n  return new MockNetworkAdapter(options)\n}\n","/**\n * Mock audio adapter\n * For testing audio functionality\n */\n\nimport type {\n  IAudioAdapter,\n  IAudioHandle,\n  AudioOptions,\n  AudioEvent,\n  AudioEventCallback,\n  AudioMetadata,\n  AudioAdapterConfig,\n} from '../interfaces/audio'\n\nlet handleIdCounter = 0\n\ninterface MockAudioInstance {\n  handle: IAudioHandle\n  currentTime: number\n  duration: number\n  volume: number\n  playbackRate: number\n  isMuted: boolean\n  previousVolume: number\n  listeners: Set<AudioEventCallback>\n}\n\n/**\n * Mock audio adapter for testing\n */\nexport class MockAudioAdapter implements IAudioAdapter {\n  private instances: Map<string, MockAudioInstance> = new Map()\n  private preloadedUrls: Set<string> = new Set()\n  private config: AudioAdapterConfig\n  private mockDurations: Map<string, number> = new Map()\n\n  constructor(config: AudioAdapterConfig = {}) {\n    this.config = {\n      defaultVolume: 1.0,\n      defaultPlaybackRate: 1.0,\n      ...config,\n    }\n  }\n\n  /**\n   * Set mock duration for a URL\n   */\n  setMockDuration(url: string, duration: number): void {\n    this.mockDurations.set(url, duration)\n  }\n\n  private notifyListeners(instance: MockAudioInstance, eventType: AudioEvent['type']): void {\n    const event: AudioEvent = {\n      type: eventType,\n      handle: { ...instance.handle },\n      currentTime: instance.currentTime,\n      duration: instance.duration,\n    }\n\n    instance.listeners.forEach((callback) => callback(event))\n  }\n\n  // Playback control\n\n  async play(url: string, options?: AudioOptions): Promise<IAudioHandle> {\n    const handleId = `mock_audio_${++handleIdCounter}`\n\n    const handle: IAudioHandle = {\n      id: handleId,\n      url,\n      state: 'playing',\n    }\n\n    const instance: MockAudioInstance = {\n      handle,\n      currentTime: options?.startTime ?? 0,\n      duration: this.mockDurations.get(url) ?? 180, // Default 3 minutes\n      volume: options?.volume ?? this.config.defaultVolume ?? 1.0,\n      playbackRate: options?.playbackRate ?? this.config.defaultPlaybackRate ?? 1.0,\n      isMuted: false,\n      previousVolume: options?.volume ?? this.config.defaultVolume ?? 1.0,\n      listeners: new Set(),\n    }\n\n    this.instances.set(handleId, instance)\n\n    // Simulate loaded event\n    setTimeout(() => this.notifyListeners(instance, 'loaded'), 0)\n\n    return handle\n  }\n\n  async pause(handle: IAudioHandle): Promise<void> {\n    const instance = this.instances.get(handle.id)\n    if (!instance) return\n\n    instance.handle.state = 'paused'\n    this.notifyListeners(instance, 'statechange')\n  }\n\n  async resume(handle: IAudioHandle): Promise<void> {\n    const instance = this.instances.get(handle.id)\n    if (!instance) return\n\n    instance.handle.state = 'playing'\n    this.notifyListeners(instance, 'statechange')\n  }\n\n  async stop(handle: IAudioHandle): Promise<void> {\n    const instance = this.instances.get(handle.id)\n    if (!instance) return\n\n    instance.handle.state = 'idle'\n    instance.currentTime = 0\n    this.notifyListeners(instance, 'statechange')\n    this.instances.delete(handle.id)\n  }\n\n  // Seek and position\n\n  async getCurrentTime(handle: IAudioHandle): Promise<number> {\n    const instance = this.instances.get(handle.id)\n    return instance?.currentTime ?? 0\n  }\n\n  async setCurrentTime(handle: IAudioHandle, time: number): Promise<void> {\n    const instance = this.instances.get(handle.id)\n    if (!instance) return\n\n    instance.currentTime = Math.max(0, Math.min(time, instance.duration))\n    this.notifyListeners(instance, 'timeupdate')\n  }\n\n  async getDuration(handle: IAudioHandle | string): Promise<number> {\n    if (typeof handle === 'string') {\n      return this.mockDurations.get(handle) ?? 180\n    }\n\n    const instance = this.instances.get(handle.id)\n    return instance?.duration ?? 0\n  }\n\n  // Volume control\n\n  async getVolume(handle: IAudioHandle): Promise<number> {\n    const instance = this.instances.get(handle.id)\n    return instance?.volume ?? 0\n  }\n\n  async setVolume(handle: IAudioHandle, volume: number): Promise<void> {\n    const instance = this.instances.get(handle.id)\n    if (!instance) return\n\n    instance.volume = Math.max(0, Math.min(1, volume))\n    instance.previousVolume = instance.volume\n    instance.isMuted = false\n  }\n\n  async mute(handle: IAudioHandle): Promise<void> {\n    const instance = this.instances.get(handle.id)\n    if (!instance) return\n\n    if (!instance.isMuted) {\n      instance.previousVolume = instance.volume\n      instance.volume = 0\n      instance.isMuted = true\n    }\n  }\n\n  async unmute(handle: IAudioHandle): Promise<void> {\n    const instance = this.instances.get(handle.id)\n    if (!instance) return\n\n    if (instance.isMuted) {\n      instance.volume = instance.previousVolume\n      instance.isMuted = false\n    }\n  }\n\n  // Playback rate\n\n  async getPlaybackRate(handle: IAudioHandle): Promise<number> {\n    const instance = this.instances.get(handle.id)\n    return instance?.playbackRate ?? 1.0\n  }\n\n  async setPlaybackRate(handle: IAudioHandle, rate: number): Promise<void> {\n    const instance = this.instances.get(handle.id)\n    if (!instance) return\n\n    instance.playbackRate = Math.max(0.25, Math.min(4, rate))\n  }\n\n  // Metadata\n\n  async getMetadata(url: string): Promise<AudioMetadata> {\n    return {\n      duration: this.mockDurations.get(url) ?? 180,\n    }\n  }\n\n  // Preloading\n\n  async preload(url: string): Promise<void> {\n    this.preloadedUrls.add(url)\n  }\n\n  async cancelPreload(url: string): Promise<void> {\n    this.preloadedUrls.delete(url)\n  }\n\n  /**\n   * Check if a URL was preloaded (for testing)\n   */\n  isPreloaded(url: string): boolean {\n    return this.preloadedUrls.has(url)\n  }\n\n  // Events\n\n  onPlaybackChange(handle: IAudioHandle, callback: AudioEventCallback): () => void {\n    const instance = this.instances.get(handle.id)\n    if (!instance) {\n      return () => {}\n    }\n\n    instance.listeners.add(callback)\n    return () => {\n      instance.listeners.delete(callback)\n    }\n  }\n\n  // Cleanup\n\n  async dispose(): Promise<void> {\n    this.instances.clear()\n    this.preloadedUrls.clear()\n  }\n\n  /**\n   * Get all active instances (for testing)\n   */\n  getActiveInstances(): IAudioHandle[] {\n    return Array.from(this.instances.values()).map((i) => i.handle)\n  }\n\n  /**\n   * Simulate end of playback (for testing)\n   */\n  simulateEnd(handle: IAudioHandle): void {\n    const instance = this.instances.get(handle.id)\n    if (!instance) return\n\n    instance.handle.state = 'ended'\n    instance.currentTime = instance.duration\n    this.notifyListeners(instance, 'ended')\n  }\n\n  /**\n   * Simulate error (for testing)\n   */\n  simulateError(handle: IAudioHandle, message: string): void {\n    const instance = this.instances.get(handle.id)\n    if (!instance) return\n\n    instance.handle.state = 'error'\n    const event: AudioEvent = {\n      type: 'error',\n      handle: { ...instance.handle },\n      error: message,\n    }\n    instance.listeners.forEach((callback) => callback(event))\n  }\n}\n\n/**\n * Create a mock audio adapter\n */\nexport function createMockAudio(config?: AudioAdapterConfig): MockAudioAdapter {\n  return new MockAudioAdapter(config)\n}\n","/**\n * Mock platform adapter\n * For testing platform functionality\n */\n\nimport type {\n  IPlatformAdapter,\n  Platform,\n  PlatformInfo,\n  PlatformCapabilities,\n  FilePickerOptions,\n  SelectedFile,\n  NotificationOptions,\n  NotificationClickEvent,\n} from '../interfaces/platform'\n\n/**\n * Mock file for testing\n */\nfunction createMockFile(name: string, content: string, type: string = 'text/plain'): SelectedFile {\n  return {\n    name,\n    size: content.length,\n    type,\n    text: async () => content,\n    arrayBuffer: async () => new TextEncoder().encode(content).buffer,\n  }\n}\n\n/**\n * Mock platform adapter for testing\n */\nexport class MockPlatformAdapter implements IPlatformAdapter {\n  private clipboardContent: string = ''\n  private colorScheme: 'light' | 'dark' = 'light'\n  private colorSchemeListeners: Set<(scheme: 'light' | 'dark') => void> = new Set()\n  private notificationClickListeners: Set<(event: NotificationClickEvent) => void> = new Set()\n  private deepLinkListeners: Set<(url: string) => void> = new Set()\n  private windowTitle: string = ''\n  private locale: string = 'en-US'\n  private notifications: Array<{ title: string; options?: NotificationOptions }> = []\n  private mockFiles: SelectedFile[] = []\n\n  // Configure mock behavior\n\n  /**\n   * Set mock files for file picker\n   */\n  setMockFiles(files: Array<{ name: string; content: string; type?: string }>): void {\n    this.mockFiles = files.map((f) => createMockFile(f.name, f.content, f.type))\n  }\n\n  /**\n   * Set mock locale\n   */\n  setMockLocale(locale: string): void {\n    this.locale = locale\n  }\n\n  /**\n   * Set mock color scheme\n   */\n  setMockColorScheme(scheme: 'light' | 'dark'): void {\n    if (this.colorScheme !== scheme) {\n      this.colorScheme = scheme\n      this.colorSchemeListeners.forEach((cb) => cb(scheme))\n    }\n  }\n\n  /**\n   * Simulate deep link\n   */\n  simulateDeepLink(url: string): void {\n    this.deepLinkListeners.forEach((cb) => cb(url))\n  }\n\n  /**\n   * Simulate notification click\n   */\n  simulateNotificationClick(event: NotificationClickEvent): void {\n    this.notificationClickListeners.forEach((cb) => cb(event))\n  }\n\n  /**\n   * Get shown notifications (for testing)\n   */\n  getNotifications(): Array<{ title: string; options?: NotificationOptions }> {\n    return [...this.notifications]\n  }\n\n  /**\n   * Get window title (for testing)\n   */\n  getWindowTitle(): string {\n    return this.windowTitle\n  }\n\n  // Platform detection\n\n  getPlatform(): Platform {\n    return 'web'\n  }\n\n  getPlatformInfo(): PlatformInfo {\n    return {\n      platform: 'web',\n      version: 'mock-1.0.0',\n      userAgent: 'MockPlatformAdapter/1.0',\n      os: 'unknown',\n      deviceType: 'desktop',\n      isTouch: false,\n      isStandalone: false,\n    }\n  }\n\n  getVersion(): string {\n    return 'mock-1.0.0'\n  }\n\n  getCapabilities(): PlatformCapabilities {\n    return {\n      fileSystem: false,\n      notifications: true,\n      clipboard: true,\n      share: true,\n      filePicker: true,\n      windowManagement: true,\n      deepLinking: true,\n      persistentStorage: true,\n    }\n  }\n\n  // Clipboard\n\n  async copyToClipboard(text: string): Promise<void> {\n    this.clipboardContent = text\n  }\n\n  async readFromClipboard(): Promise<string | null> {\n    return this.clipboardContent || null\n  }\n\n  // File picker\n\n  async selectFile(options?: FilePickerOptions): Promise<SelectedFile | null> {\n    const filtered = this.filterFiles(options)\n    return filtered.length > 0 ? filtered[0] : null\n  }\n\n  async selectFiles(options?: FilePickerOptions): Promise<SelectedFile[]> {\n    return this.filterFiles(options)\n  }\n\n  private filterFiles(options?: FilePickerOptions): SelectedFile[] {\n    if (!options?.accept) return this.mockFiles\n\n    return this.mockFiles.filter((file) => {\n      return options.accept!.some((accept) => {\n        if (accept.startsWith('.')) {\n          return file.name.endsWith(accept)\n        }\n        return file.type.includes(accept.replace('/*', ''))\n      })\n    })\n  }\n\n  async selectFolder(): Promise<string | null> {\n    return '/mock/folder/path'\n  }\n\n  // Share\n\n  canShare(): boolean {\n    return true\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  async share(_data: { title?: string; text?: string; url?: string }): Promise<void> {\n    // Mock share - just succeed\n  }\n\n  // Notifications\n\n  async requestNotificationPermission(): Promise<'granted' | 'denied' | 'default'> {\n    return 'granted'\n  }\n\n  async showNotification(title: string, options?: NotificationOptions): Promise<void> {\n    this.notifications.push({ title, options })\n  }\n\n  onNotificationClick(callback: (event: NotificationClickEvent) => void): () => void {\n    this.notificationClickListeners.add(callback)\n    return () => {\n      this.notificationClickListeners.delete(callback)\n    }\n  }\n\n  // Window management\n\n  async setWindowTitle(title: string): Promise<void> {\n    this.windowTitle = title\n  }\n\n  async minimizeWindow(): Promise<void> {\n    // Mock minimize\n  }\n\n  async maximizeWindow(): Promise<void> {\n    // Mock maximize\n  }\n\n  async restoreWindow(): Promise<void> {\n    // Mock restore\n  }\n\n  async closeWindow(): Promise<void> {\n    // Mock close\n  }\n\n  async toggleFullscreen(): Promise<void> {\n    // Mock fullscreen toggle\n  }\n\n  async isMaximized(): Promise<boolean> {\n    return false\n  }\n\n  async isFullscreen(): Promise<boolean> {\n    return false\n  }\n\n  // Deep linking\n\n  registerDeepLinkHandler(callback: (url: string) => void): () => void {\n    this.deepLinkListeners.add(callback)\n    return () => {\n      this.deepLinkListeners.delete(callback)\n    }\n  }\n\n  // System\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  async openExternalUrl(_url: string): Promise<void> {\n    // Mock open external\n  }\n\n  getLocale(): string {\n    return this.locale\n  }\n\n  getColorScheme(): 'light' | 'dark' | 'system' {\n    return this.colorScheme\n  }\n\n  onColorSchemeChange(callback: (scheme: 'light' | 'dark') => void): () => void {\n    this.colorSchemeListeners.add(callback)\n    return () => {\n      this.colorSchemeListeners.delete(callback)\n    }\n  }\n\n  /**\n   * Reset mock state\n   */\n  reset(): void {\n    this.clipboardContent = ''\n    this.colorScheme = 'light'\n    this.windowTitle = ''\n    this.notifications = []\n    this.mockFiles = []\n  }\n}\n\n/**\n * Create a mock platform adapter\n */\nexport function createMockPlatform(): MockPlatformAdapter {\n  return new MockPlatformAdapter()\n}\n"]}